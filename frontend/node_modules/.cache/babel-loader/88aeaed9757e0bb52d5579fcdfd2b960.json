{"ast":null,"code":"var _jsxFileName = \"/Users/stephen/business/journal-full/frontend/src/components/LogEntry/LogEntry.tsx\",\n    _s = $RefreshSig$();\n\nimport styled from 'styled-components';\nimport { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { AiOutlineArrowLeft } from 'react-icons/ai';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst JournalMain = styled.div`\n\tdisplay: flex;\n\twidth: 65%;\n\theight: 100%;\n\tmargin: 1rem;\n\tpadding: 1rem 0 0 3rem;\n\n\t.main-container {\n\t\twidth: 100%;\n\t}\n\t.main-bar {\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\talign-content: center;\n\t\tjustify-content: space-between;\n\t\tmargin-bottom: 8rem;\n\n\t\tp {\n\t\t\talign-self: center;\n\t\t}\n\t}\n\n\t.text-area {\n\t\twidth: 100%;\n\t\tmargin-top: 2rem;\n\t\tdisplay: block;\n\n\t\tinput {\n\t\t\twidth: 100%;\n\t\t\theight: 3rem;\n\t\t\tborder: none;\n\t\t\tfont-size: 3rem;\n\t\t\tpadding-bottom: 0.2rem;\n\t\t\tmargin-bottom: 3rem;\n\t\t\tborder-bottom: 1px solid #c0b9b9;\n\t\t}\n\t\ttextarea {\n\t\t\twidth: 100%;\n\t\t\theight: 45vh;\n\t\t\tresize: none;\n\t\t\tborder: none;\n\t\t\tfont-family: arial;\n\t\t}\n\t}\n\n\t.complete {\n\t\tdisplay: flex;\n\t\tjustify-content: end;\n\t\tmargin-top: 1rem;\n\t}\n\n\t.btn-complete {\n\t\tbackground-color: green;\n\t}\n`;\n_c = JournalMain;\nexport default function Journalmain() {\n  _s();\n\n  const {\n    currentLogID,\n    logs\n  } = useSelector(state => state.journal);\n  const currentLog = logs.find(log => log.id === currentLogID);\n\n  const countWords = text => {\n    return (text === null || text === void 0 ? void 0 : text.split(' ').filter(str => str != '').length) || 0;\n  };\n\n  const navigate = useNavigate();\n  const sampleLocation = useLocation();\n  const [isValid, setIsValid] = useState(true);\n  const [wordCount, setWordCount] = useState(countWords(currentLog === null || currentLog === void 0 ? void 0 : currentLog.text));\n  const [title, setTitle] = useState((currentLog === null || currentLog === void 0 ? void 0 : currentLog.title) || '');\n  const [text, setText] = useState((currentLog === null || currentLog === void 0 ? void 0 : currentLog.text) || '');\n  const [values, setValues] = useState({\n    title: '',\n    text: ''\n  });\n\n  const handleTextInput = e => {\n    const text = e.target.value;\n    setWordCount(countWords(text));\n    setText(text);\n  };\n\n  const handleTitleInput = e => {\n    setTitle(e.target.value);\n  };\n\n  const sameDay = (d1, d2) => {\n    return d1.getFullYear() === d2.getFullYear() && d1.getMonth() === d2.getMonth() && d1.getDate() === d2.getDate();\n  };\n\n  const isNewEntry = () => {\n    let urlSplit = sampleLocation.pathname.split('/');\n    return urlSplit[urlSplit.length - 1] === 'create' ? false : true;\n  };\n\n  const saveEntry = async () => {\n    values.dateTo = new Date();\n\n    try {\n      const response = axios.post('http://localhost:5001/api/logs/create', payload, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n      const status = await response.status;\n\n      if (status === 200) {\n        navigate('/user/111/journal');\n      }\n    } catch (err) {}\n  };\n\n  useEffect(() => {\n    setTitle((currentLog === null || currentLog === void 0 ? void 0 : currentLog.title) || '');\n    setText((currentLog === null || currentLog === void 0 ? void 0 : currentLog.text) || '');\n  }, [currentLog]);\n  console.log('@@@@@@ rendering', {\n    title\n  });\n  console.log(text, title);\n  return /*#__PURE__*/_jsxDEV(JournalMain, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => navigate('/user/1/journal'),\n          children: [/*#__PURE__*/_jsxDEV(AiOutlineArrowLeft, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 7\n          }, this), \"To Jounral\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 6\n        }, this), !isNewEntry() && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [wordCount, \"/500\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 24\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-area\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Title\",\n          maxLength: 35,\n          onChange: handleTitleInput,\n          value: title,\n          disabled: isNewEntry()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          onChange: handleTextInput,\n          required: true,\n          placeholder: \"Start Typing ...\",\n          value: text,\n          disabled: isNewEntry()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"complete\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: saveEntry,\n            className: `btn ${wordCount > 0 ? 'btn-complete' : ''} ${isNewEntry() ? 'btn-hidden' : ''}`,\n            children: \"Complete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Journalmain, \"bCYUuf/mo1J/Wxz1htEoUwbY9+U=\", false, function () {\n  return [useSelector, useNavigate, useLocation];\n});\n\n_c2 = Journalmain;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"JournalMain\");\n$RefreshReg$(_c2, \"Journalmain\");","map":{"version":3,"sources":["/Users/stephen/business/journal-full/frontend/src/components/LogEntry/LogEntry.tsx"],"names":["styled","useState","useEffect","useSelector","useNavigate","useLocation","AiOutlineArrowLeft","axios","JournalMain","div","Journalmain","currentLogID","logs","state","journal","currentLog","find","log","id","countWords","text","split","filter","str","length","navigate","sampleLocation","isValid","setIsValid","wordCount","setWordCount","title","setTitle","setText","values","setValues","handleTextInput","e","target","value","handleTitleInput","sameDay","d1","d2","getFullYear","getMonth","getDate","isNewEntry","urlSplit","pathname","saveEntry","dateTo","Date","response","post","payload","headers","status","err","console"],"mappings":"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","sourcesContent":["import styled from 'styled-components';\nimport { useState, useRef, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { RootState } from '../../redux/store';\nimport { AiOutlineArrowLeft } from 'react-icons/ai';\nimport axios from 'axios';\n\nconst JournalMain = styled.div`\n\tdisplay: flex;\n\twidth: 65%;\n\theight: 100%;\n\tmargin: 1rem;\n\tpadding: 1rem 0 0 3rem;\n\n\t.main-container {\n\t\twidth: 100%;\n\t}\n\t.main-bar {\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\talign-content: center;\n\t\tjustify-content: space-between;\n\t\tmargin-bottom: 8rem;\n\n\t\tp {\n\t\t\talign-self: center;\n\t\t}\n\t}\n\n\t.text-area {\n\t\twidth: 100%;\n\t\tmargin-top: 2rem;\n\t\tdisplay: block;\n\n\t\tinput {\n\t\t\twidth: 100%;\n\t\t\theight: 3rem;\n\t\t\tborder: none;\n\t\t\tfont-size: 3rem;\n\t\t\tpadding-bottom: 0.2rem;\n\t\t\tmargin-bottom: 3rem;\n\t\t\tborder-bottom: 1px solid #c0b9b9;\n\t\t}\n\t\ttextarea {\n\t\t\twidth: 100%;\n\t\t\theight: 45vh;\n\t\t\tresize: none;\n\t\t\tborder: none;\n\t\t\tfont-family: arial;\n\t\t}\n\t}\n\n\t.complete {\n\t\tdisplay: flex;\n\t\tjustify-content: end;\n\t\tmargin-top: 1rem;\n\t}\n\n\t.btn-complete {\n\t\tbackground-color: green;\n\t}\n`;\n\nexport default function Journalmain() {\n\tconst { currentLogID, logs } = useSelector((state: RootState) => state.journal);\n\tconst currentLog = logs.find((log) => log.id === currentLogID);\n\tconst countWords = (text: string | undefined) => {\n\t\treturn text?.split(' ').filter((str) => str != '').length || 0;\n\t};\n\tconst navigate = useNavigate();\n\tconst sampleLocation = useLocation();\n\n\tconst [isValid, setIsValid] = useState<boolean>(true);\n\tconst [wordCount, setWordCount] = useState<number>(countWords(currentLog?.text));\n\tconst [title, setTitle] = useState(currentLog?.title || '');\n\tconst [text, setText] = useState(currentLog?.text || '');\n\tconst [values, setValues] = useState({\n\t\ttitle: '',\n\t\ttext: '',\n\t});\n\n\tconst handleTextInput = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n\t\tconst text = e.target.value;\n\t\tsetWordCount(countWords(text));\n\t\tsetText(text);\n\t};\n\n\tconst handleTitleInput = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tsetTitle(e.target.value);\n\t};\n\n\tconst sameDay = (d1: Date, d2: Date) => {\n\t\treturn d1.getFullYear() === d2.getFullYear() && d1.getMonth() === d2.getMonth() && d1.getDate() === d2.getDate();\n\t};\n\n\tconst isNewEntry = () => {\n\t\tlet urlSplit = sampleLocation.pathname.split('/');\n\t\treturn urlSplit[urlSplit.length - 1] === 'create' ? false : true;\n\t};\n\n\tconst saveEntry = async () => {\n\t\tvalues.dateTo = new Date();\n\n\t\ttry {\n\t\t\tconst response = axios.post('http://localhost:5001/api/logs/create', payload, {\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Access-Control-Allow-Origin': '*',\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tconst status = await response.status;\n\t\t\tif (status === 200) {\n\t\t\t\tnavigate('/user/111/journal');\n\t\t\t}\n\t\t} catch (err) {}\n\t};\n\n\tuseEffect(() => {\n\t\tsetTitle(currentLog?.title || '');\n\t\tsetText(currentLog?.text || '');\n\t}, [currentLog]);\n\n\tconsole.log('@@@@@@ rendering', { title });\n\n\tconsole.log(text, title);\n\treturn (\n\t\t<JournalMain>\n\t\t\t<div className='main-container'>\n\t\t\t\t<div className='main-bar'>\n\t\t\t\t\t<button className='btn' onClick={() => navigate('/user/1/journal')}>\n\t\t\t\t\t\t<AiOutlineArrowLeft />\n\t\t\t\t\t\tTo Jounral\n\t\t\t\t\t</button>\n\t\t\t\t\t{!isNewEntry() && <p>{wordCount}/500</p>}\n\t\t\t\t</div>\n\t\t\t\t<div className='text-area'>\n\t\t\t\t\t<input type='text' placeholder='Title' maxLength={35} onChange={handleTitleInput} value={title} disabled={isNewEntry()} />\n\t\t\t\t\t<textarea onChange={handleTextInput} required placeholder='Start Typing ...' value={text} disabled={isNewEntry()} />\n\t\t\t\t\t<div className='complete'>\n\t\t\t\t\t\t<button onClick={saveEntry} className={`btn ${wordCount > 0 ? 'btn-complete' : ''} ${isNewEntry() ? 'btn-hidden' : ''}`}>\n\t\t\t\t\t\t\tComplete\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</JournalMain>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}